üìÑ Business Doc Assistant Bot

–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é RAG (Retrieval-Augmented Generation), –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã (PDF, DOCX, TXT –∏ –¥—Ä.) –∏ –ø–æ–ª—É—á–∞—Ç—å —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤.
‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

    –ú—É–ª—å—Ç–∏—Ñ–æ—Ä–º–∞—Ç–Ω–æ—Å—Ç—å: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF, DOCX, CSV, TXT, HTML.

    –£–º–Ω—ã–π –ø–æ–∏—Å–∫: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ChromaDB –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Ç–µ–∫—Å—Ç–∞.

    –°—Ç—Ä–æ–≥–∏–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç: –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç—å (—á–µ—Ä–µ–∑ OpenRouter) –æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ –¥–µ–ª—É –∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

    –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ user_id, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

    –î–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å: –õ–∞–∫–æ–Ω–∏—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ-–¥–µ–ª–æ–≤–æ–º —Å—Ç–∏–ª–µ —Å —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

    –§—Ä–µ–π–º–≤–æ—Ä–∫ –±–æ—Ç–∞: aiogram 3.x

    LLM Orchestration: LangChain

    –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ChromaDB

    Embeddings: sentence-transformers/all-MiniLM-L6-v2 (HuggingFace)

    –ú–æ–¥–µ–ª—å –ò–ò: DeepSeek-R1 (–∏–ª–∏ –ª—é–±–∞—è –¥—Ä—É–≥–∞—è —á–µ—Ä–µ–∑ OpenRouter)

    –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ –≤ –ø–∞–ø–∫–µ ./chroma_db

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
code Bash

git clone https://github.com/your-username/your-repo-name.git
cd your-repo-name

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
code Bash

python -m venv venv
source venv/bin/activate  # –î–ª—è Windows: venv\Scripts\activate
pip install -r requirements.txt

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ requirements.txt –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
pip install aiogram python-dotenv openai langchain langchain-community langchain-huggingface langchain-chroma pypdf docx2txt unstructured
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
code Env

BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_botfather
OPENROUTER_API_KEY=–≤–∞—à_–∫–ª—é—á_openrouter
MODEL_NAME=deepseek/deepseek-r1:free

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
code Bash

python main.py

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

    main.py ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞.

    handlers/user_mode.py ‚Äî –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.

    services/vector_store.py ‚Äî —Ä–∞–±–æ—Ç–∞ —Å LangChain: –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ (TextSplitter) –∏ –ø–æ–∏—Å–∫ –≤ ChromaDB.

    services/llm_client.py ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API OpenRouter.

    keyboards/builders.py ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

    states/user_states.py ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM (Finite State Machine) –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤.

üìù –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

    –ó–∞–≥—Ä—É–∑–∫–∞: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã" –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, PDF —Å —É—Å—Ç–∞–≤–æ–º –∫–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ DOCX —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π).

    –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç —Ç–µ–∫—Å—Ç –Ω–∞ –º–µ–ª–∫–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É".

    –í–æ–ø—Ä–æ—Å: –ù–∞–∂–º–∏—Ç–µ "üí¨ –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å" –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –≤–∞—Å –∑–∞–ø—Ä–æ—Å.

    –†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–æ—Ç –Ω–∞–π–¥–µ—Ç –Ω—É–∂–Ω—ã–µ –∞–±–∑–∞—Ü—ã –≤ –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –∏ —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (–Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞).

‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

    –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –æ—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (clear_user_memory) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ –∑–∞–≥–ª—É—à–∫–∞.

    –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü –≤ PDF –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω–æ–π (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–∞).
